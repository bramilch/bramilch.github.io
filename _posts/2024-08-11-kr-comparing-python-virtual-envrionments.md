---
layout: post
title: 파이썬 가상환경 원리와 비교
author: bramilch
date: 2024-08-11 18:00:00 +0900
categories: [Backend, Data Engineering]
tags: [Backend, Data Engineering]
pin: true
math: false
toc: true
comments: false
mermaid: false
---

<br>

> 2024/08/11: 초안 작성  
> 2024/08/18: 비교 표 작성  

※ 내용에 오류가 있을 수 있습니다.  
※ 내용을 계속 추가, 수정, 보완하고 있습니다.  

<br>

**목차**

<br>

## 요약

<br>


파이썬 가상 환경 도구 비교

|기능/도구|venv|virtualenv|virtualenvwrapper|pyenv|conda|poetry|
|---|---|---|---|---|---|---|
|기본 기능|가상 환경 생성을 위한 핵심 파이썬 모듈|격리된 환경 생성을 위한 서드파티 라이브러리|보다 쉬운 관리를 위한 virtualenv 확장|여러 파이썬 버전과 가상 환경 관리|환경 및 패키지 관리와 여러 언어 지원|프로젝트 종속성 및 가상 환경 관리|
|설치|기본 제공(Python 3.3 이상)|pip를 통한 설치 필요|pip를 통한 설치 필요|설치 및 설정 필요|설치 필요, 일반적으로 Anaconda를 통한 설치 필요|pip를 통한 설치 필요|
|Python 버전 관리|불가능|pyenv 통합을 통해 제한적|pyenv 통합을 통해 제한적|가능|가능|불가능|
|다국어 지원|지원하지 않음|지원하지 않음|지원하지 않음|지원하지 않음|지원함|지원하지 않음|
|환경 활성화 |`source env/bin/activate`|`source env/bin/activate`|`workon <env_name>`|`pyenv activate <env_name>`|`conda activate <env_name>`|`poetry shell` or automatic via `poetry run`|
|환경 생성|`python -m venv <env_name>`|`virtualenv <env_name>`|`mkvirtualenv <env_name>`|`pyenv virtualenv <version> <env_name>`|`conda create -n <env_name>`|`poetry init` and `poetry install`|
|격리 수준|파이썬 패키지만|파이썬 패키지만|파이썬 패키지만|파이썬 버전 및 패키지|전체(언어, 버전, 패키지)|파이썬 패키지만|
|패키지 관리|pip 사용|pip 사용|pip 사용|pip 사용, `virtualenv`과 통합 가능|conda 및 pip 사용|내장 패키지 관리자 사용|
|글로벌 대 로컬 환경|로컬 전용|로컬 전용|글로벌 및 로컬 모두 관리|로컬 전용|글로벌 및 로컬 모두 관리|로컬 전용|
|사용 용이성|기본|보통|높음|보통|높음|높음|
|환경 변수|자동 관리 없음|자동 관리 없음|자동 관리|자동 관리 없음|자동 관리|자동 관리 없음|
|프로젝트별 환경|지원하지 않음|지원하지 않음|지원하지 않음|pyenv-virtualenv 플러그인을 통해 지원함|지원함|지원함|
|IDE와의 통합|기본|보통|보통|좋음|우수|우수|
|크로스 플랫폼 지원|지원|지원|지원|지원|지원|지원|
|가상 환경 크기|작음|작음|작음|작음|클 수 있음(종속성 포함)|작음|
|환경 재현성|`requirements.txt` 의존|`requirements.txt` 의존|`requirements.txt` 의존|`requirements.txt` 의존|환경 재현성 reproducibility을 위해 `environment.yml` 사용|`pyproject.toml` 및 `poetry.lock` 사용|
|시스템 파이썬과 함께 사용|사용|사용|사용|사용|사용하지 않음(별도의 환경 필요)|사용|
|파이썬이 아닌 패키지 지원|지원하지 않음|지원하지 않음|지원하지 않음|지원하지 않음|지원함|지원하지 않음|


- 파이썬 가상 환경은 다양한 도구와 방법을 사용하여 만들 수 있으며, 각각 고유한 기능, 이점 및 사용 사례가 있습니다. 여기서는 가장 많이 사용되는 방법인 venv, virtualenv, virtualenvwrapper, pyenv, conda, poetry를 비교

- 각 도구는 고유한 강점을 가지고 있으며 다양한 사용 사례에 적합. 적합한 도구를 선택하는 것은 특정 요구 사항, 워크플로, 프로젝트의 복잡성에 따라 달라짐.

- venv: *Python 3.3 이상*의 *간단한 기본 제공 환경 관리*에 가장 적합
- virtualenv: venv보다 더 많은 유연성과 옵션을 제공하며, 이전 Python 버전을 지원
- virtualenvwrapper: 보다 사용자 친화적인 인터페이스로 여러 가상 환경의 관리를 간소화
- pyenv: ***특히 개발 환경에서 여러 Python 버전을 관리하고 격리된 환경을 만드는 데 이상적***
- conda: 환경 및 종속성 관리를 위한 종합적인 도구로, 패키지 관리 기능이 있어 *특히 데이터 과학 및 머신 러닝 프로젝트에 적합*


**venv**

1. venv
설명: 격리된 Python 환경을 만들기 위해 Python 3.3 이상에 포함된 경량 도구입니다.
사용법: 최소한의 설정으로 기본적인 환경 관리에 적합합니다.
제한 사항: 고급 기능 및 다국어 지원이 부족합니다.
- 설치: Python 3.3 이상에서는 설치가 필요하지 않습니다.
- Python 버전: Python 인터프리터와 동일한 버전을 사용합니다.
- 환경 관리: 가상 환경을 만들고, 활성화하고, 삭제하는 기본 명령어를 제공합니다.
- 사용 용이성: 간단하고 직관적입니다.
- 격리: 시스템 전체 패키지로부터 적당한 수준의 격리를 제공합니다.
- 종속성 관리: pip를 사용하여 관리합니다.


2. virtualenv
설명: 오래되고 널리 사용되는 도구로, 추가 기능으로 venv를 확장합니다.
사용 방법: venv보다 더 강력하며 이전 Python 버전을 지원합니다.
제한 사항: 별도의 설치가 필요하며 다국어 지원이 부족합니다.

- 설치: pip install virtualenv를 통해 설치해야 합니다.
- Python 버전: 지정한 경우 다른 Python 버전으로 환경을 만들 수 있습니다.
- 환경 관리: 특정 Python 인터프리터로 환경을 만드는 등 venv에 비해 더 많은 옵션이 있습니다.
- 사용 편의성: venv보다 유연하지만 추가 명령이 필요합니다.
- 격리: 높은 격리 기능을 제공합니다.
- 종속성 관리: pip를 사용하여 관리합니다.

3. **virtualenvwrapper**
설명: 더 나은 환경 관리를 위한 virtualenv의 확장 프로그램입니다.
사용법: 여러 환경을 쉽게 관리할 수 있는 명령을 제공합니다.
제한 사항: 가상 환경 및 추가 설정이 필요합니다.

- 설치: pip install virtualenvwrapper를 통해 설치해야 합니다.
- 파이썬 버전: 환경 생성을 위해 virtualenv를 사용합니다.
- 환경 관리: 환경을 쉽게 만들고, 삭제하고, 환경 간에 전환할 수 있는 명령(mkvirtualenv, rmvirtualenv, workon)을 추가합니다.
- 사용 편의성: 여러 환경에서의 작업을 간소화합니다.
- 격리: 높은 격리 기능을 제공합니다.
- 종속성 관리: pip를 사용하여 관리합니다.


4. pyenv
설명: 여러 Python 버전을 관리하고 격리된 환경을 만들기 위한 도구입니다.
사용법: 다양한 Python 버전이 필요한 프로젝트에 이상적입니다.
제한 사항: 패키지가 아닌 Python 버전 관리에 중점을 둡니다.


- 설치: pyenv 및 선택적으로 pyenv-virtualenv의 설치 및 설정이 필요합니다.
- 파이썬 버전: 여러 Python 버전을 관리하고 버전 간에 전환할 수 있습니다.
- 환경 관리: 고급 관리 기능으로 다양한 Python 버전과 환경 간에 원활하게 전환할 수 있습니다.
- 사용 편의성: 더 복잡하고 여러 도구를 통합합니다.
- 격리: 높은 격리 기능을 제공합니다.
- 종속성 관리: pip를 사용하여 관리합니다.

5. **conda**
설명: Python 및 기타 언어를 위한 강력한 패키지 관리자이자 환경 관리자입니다.
사용법: 다국어 지원이 필요한 데이터 과학 및 머신 러닝 프로젝트에 가장 적합합니다.
제한 사항: 환경 규모가 더 크고 복잡합니다.

- 설치: 아나콘다 또는 미니콘다 배포가 필요합니다.
- Python 버전: 여러 Python 버전을 관리하며 다양한 버전의 환경을 만들 수 있습니다.
- 환경 관리: 고급, 패키지 관리와 환경 관리가 하나의 도구에 포함되어 있습니다.
- 사용 편의성: 사용자 친화적이며, 특히 데이터 과학 워크플로우에 적합합니다.
- 격리: 높은 격리 기능을 제공합니다.
- 종속성 관리: 콘다 패키지와 pip를 사용하여 관리합니다.


6. poetry
설명: 패키지 관리와 환경 생성을 간소화하는 종속성 관리 도구입니다.
사용법: Python 프로젝트를 위한 사용하기 쉬운 명령어와 자동 환경 처리를 제공합니다.
제한 사항: Python에 중점을 두며, Python이 아닌 패키지는 지원하지 않습니다.
적합한 도구 선택하기
간단한 프로젝트의 경우: 기본적인 격리가 필요한 소규모 프로젝트에는 venv로 충분합니다.
고급 Python 프로젝트: 가상 환경 또는 pyenv는 복잡한 설정을 위한 더 많은 기능을 제공합니다.
데이터 과학: conda는 과학 패키지 및 비파이썬 종속성에 대한 광범위한 지원을 제공합니다.
최신 파이썬 프로젝트: poetry는 최신 개발 관행에 중점을 두고 종속성 관리를 간소화합니다.



- 사용법: 종속성을 관리하고 가상 환경을 자동으로 생성합니다.
- 설치: 설치: pip 또는 설치 스크립트를 통해 설치합니다.
- 격리: 각 프로젝트에는 고유한 환경과 종속성 트리가 있습니다.
- 장점:
잠금 파일로 통합 종속성 관리.
종속성을 자동으로 해결합니다.
패키지와 환경을 모두 원활하게 관리합니다.
- 단점:
의견 구조에 적응이 필요할 수 있습니다.
간단한 프로젝트에는 과할 수 있습니다.




<br>

<br>




<br>
<br>

[참고자료]

